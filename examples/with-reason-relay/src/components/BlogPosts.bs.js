// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var Belt_Array = require("bs-platform/lib/js/belt_Array.js");
var ReasonRelay = require("reason-relay/src/ReasonRelay.bs.js");
var BlogPostPreview = require("./BlogPostPreview.bs.js");
var BlogPosts_fragment_graphql = require("../__generated__/BlogPosts_fragment_graphql.bs.js");

var convertFragment = BlogPosts_fragment_graphql.Internal.convertFragment;

var UseFragment = ReasonRelay.MakeUseFragment({
      fragmentSpec: BlogPosts_fragment_graphql.node,
      convertFragment: convertFragment
    });

function use(fRef) {
  return Curry._1(UseFragment.use, fRef);
}

var Fragment = {
  Operation: /* alias */0,
  Types: /* alias */0,
  UseFragment: UseFragment,
  use: use
};

function BlogPosts(Props) {
  var viewer = Props.viewer;
  var fragment = Curry._1(UseFragment.use, viewer);
  var match = fragment.allBlogPosts.edges;
  return React.createElement("div", undefined, React.createElement("h1", undefined, "Blog posts"), React.createElement("ul", undefined, match !== undefined ? Belt_Array.map(match, (function (post) {
                          if (post !== undefined) {
                            var p = post;
                            return React.createElement(BlogPostPreview.make, {
                                        post: Curry._1(p.node.getFragmentRefs, /* () */0),
                                        key: p.node.id
                                      });
                          } else {
                            return null;
                          }
                        })) : React.createElement("li", undefined, "No posts found")));
}

var make = BlogPosts;

exports.Fragment = Fragment;
exports.make = make;
/* UseFragment Not a pure module */
