(()=>{"use strict";var __webpack_modules__={792:(__unused_webpack_module,exports,__nccwpck_require__)=>{Object.defineProperty(exports,"__esModule",{value:true});exports.EdgeVM=void 0;const load_1=__nccwpck_require__(991);const vm_1=__nccwpck_require__(144);const vm_2=__nccwpck_require__(443);let unhandledRejectionHandlers;let uncaughtExceptionHandlers;class EdgeVM extends vm_2.VM{constructor(e){super({...e,extend:t=>(e===null||e===void 0?void 0:e.extend)?e.extend(addPrimitives(t)):addPrimitives(t)});Object.defineProperty(this.context,"__onUnhandledRejectionHandlers",{set:registerUnhandledRejectionHandlers,configurable:false,enumerable:false});Object.defineProperty(this,"__rejectionHandlers",{get:()=>unhandledRejectionHandlers,configurable:false,enumerable:false});Object.defineProperty(this.context,"__onErrorHandlers",{set:registerUncaughtExceptionHandlers,configurable:false,enumerable:false});Object.defineProperty(this,"__errorHandlers",{get:()=>uncaughtExceptionHandlers,configurable:false,enumerable:false});this.evaluate(getDefineEventListenersCode());this.dispatchFetch=this.evaluate(getDispatchFetchCode());for(const e of transferableConstructors){patchInstanceOf(e,this.context)}if(e===null||e===void 0?void 0:e.initialCode){this.evaluate(e.initialCode)}}}exports.EdgeVM=EdgeVM;const transferableConstructors=["Object","Array","RegExp","Uint8Array","ArrayBuffer","Error","SyntaxError","TypeError"];function patchInstanceOf(item,ctx){ctx[Symbol.for(`node:${item}`)]=eval(item);return(0,vm_1.runInContext)(`\n      globalThis.${item} = new Proxy(${item}, {\n        get(target, prop, receiver) {\n          if (prop === Symbol.hasInstance && receiver === globalThis.${item}) {\n            const nodeTarget = globalThis[Symbol.for('node:${item}')];\n            if (nodeTarget) {\n              return function(instance) {\n                return instance instanceof target || instance instanceof nodeTarget;\n              };\n            } else {\n              throw new Error('node target must exist')\n            }\n          }\n\n          return Reflect.get(target, prop, receiver);\n        }\n      })\n    `,ctx)}function registerUnhandledRejectionHandlers(e){if(!unhandledRejectionHandlers){process.on("unhandledRejection",(function invokeRejectionHandlers(e,t){unhandledRejectionHandlers.forEach((n=>n({reason:e,promise:t})))}))}unhandledRejectionHandlers=e}function registerUncaughtExceptionHandlers(e){if(!uncaughtExceptionHandlers){process.on("uncaughtException",(function invokeErrorHandlers(e){uncaughtExceptionHandlers.forEach((t=>t(e)))}))}uncaughtExceptionHandlers=e}function getDefineEventListenersCode(){return`\n    Object.defineProperty(self, '__listeners', {\n      configurable: false,\n      enumerable: false,\n      value: {},\n      writable: true,\n    })\n\n    function __conditionallyUpdatesHandlerList(eventType) {\n      if (eventType === 'unhandledrejection') {\n        self.__onUnhandledRejectionHandlers = self.__listeners[eventType];\n      } else if (eventType === 'error') {\n        self.__onErrorHandlers = self.__listeners[eventType];\n      }\n    }\n\n    function addEventListener(type, handler) {\n      const eventType = type.toLowerCase();\n      if (eventType === 'fetch' && self.__listeners.fetch) {\n        throw new TypeError('You can register just one "fetch" event listener');\n      }\n\n      self.__listeners[eventType] = self.__listeners[eventType] || [];\n      self.__listeners[eventType].push(handler);\n      __conditionallyUpdatesHandlerList(eventType);\n    }\n\n    function removeEventListener(type, handler) {\n      const eventType = type.toLowerCase();\n      if (self.__listeners[eventType]) {\n        self.__listeners[eventType] = self.__listeners[eventType].filter(item => {\n          return item !== handler;\n        });\n\n        if (self.__listeners[eventType].length === 0) {\n          delete self.__listeners[eventType];\n        }\n      }\n      __conditionallyUpdatesHandlerList(eventType);\n    }\n  `}function getDispatchFetchCode(){return`(async function dispatchFetch(input, init) {\n    const request = new Request(input, init);\n    const event = new FetchEvent(request);\n    if (!self.__listeners.fetch) {\n      throw new Error("No fetch event listeners found");\n    }\n\n    const getResponse = ({ response, error }) => {\n     if (error || !response || !(response instanceof Response)) {\n        console.error(error ? error.toString() : 'The event listener did not respond')\n        response = new Response(null, {\n          statusText: 'Internal Server Error',\n          status: 500\n        })\n      }\n\n      response.waitUntil = () => Promise.all(event.awaiting);\n\n      if (response.status < 300 || response.status >= 400 ) {\n        response.headers.delete('content-encoding');\n        response.headers.delete('transform-encoding');\n        response.headers.delete('content-length');\n      }\n\n      return response;\n    }\n\n    try {\n      await self.__listeners.fetch[0].call(event, event)\n    } catch (error) {\n      return getResponse({ error })\n    }\n\n    return Promise.resolve(event.response)\n      .then(response => getResponse({ response }))\n      .catch(error => getResponse({ error }))\n  })`}function addPrimitives(e){defineProperty(e,"self",{enumerable:true,value:e});defineProperty(e,"globalThis",{value:e});defineProperty(e,"Symbol",{value:Symbol});defineProperty(e,"clearInterval",{value:clearInterval});defineProperty(e,"clearTimeout",{value:clearTimeout});defineProperty(e,"setInterval",{value:setInterval});defineProperty(e,"setTimeout",{value:setTimeout});defineProperty(e,"EdgeRuntime",{value:"edge-runtime"});const t=getTransferablePrimitivesFromContext(e);defineProperties(e,{exports:(0,load_1.load)({...t,WeakRef:(0,vm_1.runInContext)(`WeakRef`,e)}),enumerable:["crypto"],nonenumerable:["Crypto","CryptoKey","SubtleCrypto","fetch","File","FormData","Headers","Request","Response","WebSocket","structuredClone","Blob","URL","URLSearchParams","URLPattern","AbortController","AbortSignal","DOMException","ReadableStream","ReadableStreamBYOBReader","ReadableStreamDefaultReader","TextDecoderStream","TextEncoderStream","TransformStream","WritableStream","WritableStreamDefaultWriter","atob","btoa","TextEncoder","TextDecoder","Event","EventTarget","FetchEvent","PromiseRejectionEvent","console"]});return e}function defineProperty(e,t,n){var r,o,s;Object.defineProperty(e,t,{configurable:(r=n.configurable)!==null&&r!==void 0?r:false,enumerable:(o=n.enumerable)!==null&&o!==void 0?o:false,value:n.value,writable:(s=n.writable)!==null&&s!==void 0?s:true})}function defineProperties(e,t){var n,r;for(const r of(n=t.enumerable)!==null&&n!==void 0?n:[]){if(!t.exports[r]){throw new Error(`Attempt to export a nullable value for "${r}"`)}defineProperty(e,r,{enumerable:true,value:t.exports[r]})}for(const n of(r=t.nonenumerable)!==null&&r!==void 0?r:[]){if(!t.exports[n]){throw new Error(`Attempt to export a nullable value for "${n}"`)}defineProperty(e,n,{value:t.exports[n]})}}function getTransferablePrimitivesFromContext(e){const t=transferableConstructors.join(",");const n=`({${t}})`;return(0,vm_1.runInContext)(n,e)}},590:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.VM=t.EdgeVM=void 0;var r=n(792);Object.defineProperty(t,"EdgeVM",{enumerable:true,get:function(){return r.EdgeVM}});var o=n(443);Object.defineProperty(t,"VM",{enumerable:true,get:function(){return o.VM}})},443:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.VM=void 0;const r=n(144);class VM{constructor(e={}){var t,n,o;const s=(0,r.createContext)({},{name:"Edge Runtime",codeGeneration:(t=e.codeGeneration)!==null&&t!==void 0?t:{strings:false,wasm:true}});this.context=(o=(n=e.extend)===null||n===void 0?void 0:n.call(e,s))!==null&&o!==void 0?o:s}evaluate(e){return(0,r.runInContext)(e,this.context)}}t.VM=VM},456:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function fulfilled(e){try{step(r.next(e))}catch(e){o(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){o(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.listen=void 0;const o=n(685);const s=n(687);const a=n(17);const i=n(361);const getProtocol=e=>{if(typeof e.protocol==="string")return e.protocol;if(e instanceof o.Server)return"http";if(e instanceof s.Server)return"https"};function listen(e,...t){return r(this,void 0,void 0,(function*(){e.listen(...t,(()=>{}));yield(0,i.once)(e,"listening");const n=e.address();if(!n){throw new Error("Server not listening")}let r;let o=getProtocol(e);if(typeof n==="string"){r=encodeURIComponent((0,a.resolve)(n));if(o){o+="+unix"}else{o="unix"}}else{const{address:e,port:t,family:s}=n;r=s==="IPv6"?`[${e}]`:e;r+=`:${t}`;if(!o){o="tcp"}}return new URL(`${o}://${r}`)}))}t.listen=listen;t["default"]=listen},162:e=>{e.exports=e=>{const t=e[0]*1e9+e[1];const n=t/1e6;const r=t/1e9;return{seconds:r,milliseconds:n,nanoseconds:t}}},293:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.EdgeRuntime=void 0;var r=n(590);Object.defineProperty(t,"EdgeRuntime",{enumerable:true,get:function(){return r.EdgeVM}})},407:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.consumeUint8ArrayReadableStream=t.getClonableBodyStream=void 0;const r=n(781);function getClonableBodyStream(e,t,n){let r=null;return{finalize(){if(r){replaceRequestBody(e,bodyStreamToNodeStream(r))}},cloneBodyStream(){const o=r!==null&&r!==void 0?r:requestToBodyStream(e,t,n);const[s,a]=o.tee();r=s;return a}}}t.getClonableBodyStream=getClonableBodyStream;function requestToBodyStream(e,t,n){const r=new n({start(n){e.on("data",(e=>n.enqueue(new t([...new Uint8Array(e)]))));e.on("end",(()=>n.terminate()));e.on("error",(e=>n.error(e)))}});return r.readable}function bodyStreamToNodeStream(e){const t=e.getReader();return r.Readable.from(async function*(){while(true){const{done:e,value:n}=await t.read();if(e){return}yield n}}())}function replaceRequestBody(e,t){for(const n in t){let r=t[n];if(typeof r==="function"){r=r.bind(t)}e[n]=r}return e}async function*consumeUint8ArrayReadableStream(e){var t;const n=e===null||e===void 0?void 0:e.getReader();if(n){while(true){const{done:e,value:r}=await n.read();if(e){return}if(((t=r===null||r===void 0?void 0:r.constructor)===null||t===void 0?void 0:t.name)!=="Uint8Array"){throw new TypeError("This ReadableStream did not return bytes.")}yield r}}}t.consumeUint8ArrayReadableStream=consumeUint8ArrayReadableStream},510:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.createHandler=void 0;const o=n(407);const s=n(407);const a=r(n(606));const i=r(n(943));const l=n(685);function createHandler(e){const t=new Set;return{handler:async(n,r)=>{var c,u;try{const d=(0,i.default)();const f=n.method!=="GET"&&n.method!=="HEAD"?(0,s.getClonableBodyStream)(n,e.runtime.evaluate("Uint8Array"),e.runtime.context.TransformStream):undefined;const p=await e.runtime.dispatchFetch(String(getURL(n)),{headers:toRequestInitHeaders(n),method:n.method,body:f===null||f===void 0?void 0:f.cloneBodyStream()});const m=p.waitUntil();t.add(m);m.finally((()=>t.delete(m)));r.statusCode=p.status;r.statusMessage=p.statusText;for(const[e,t]of Object.entries(toNodeHeaders(p.headers))){if(t!==undefined){r.setHeader(e,t)}}if(p.body){for await(const e of(0,o.consumeUint8ArrayReadableStream)(p.body)){r.write(e)}}const _=`${n.socket.remoteAddress} ${n.method} ${n.url}`;const v=`${(c=(0,a.default)(d()).match(/[a-zA-Z]+|[0-9]+/g))===null||c===void 0?void 0:c.join(" ")}`;const b=`${r.statusCode} ${l.STATUS_CODES[r.statusCode]}`;(u=e.logger)===null||u===void 0?void 0:u.debug(`${_} → ${b} in ${v}`);r.end()}finally{if(!r.writableEnded){r.end()}}},waitUntil:()=>Promise.all(t)}}t.createHandler=createHandler;function getURL(e){var t;const n=((t=e.socket)===null||t===void 0?void 0:t.encrypted)?"https":"http";return new URL(String(e.url),`${n}://${String(e.headers.host)}`)}function toRequestInitHeaders(e){return Object.keys(e.headers).map((t=>{const n=e.headers[t];return[t,Array.isArray(n)?n.join(", "):n!==null&&n!==void 0?n:""]}))}function toNodeHeaders(e){const t={};if(e){for(const[n,r]of e.entries()){t[n]=n.toLowerCase()==="set-cookie"?e.getAll("set-cookie"):r}}return t}},386:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:true});t.runServer=t.createHandler=t.consumeUint8ArrayReadableStream=void 0;var r=n(407);Object.defineProperty(t,"consumeUint8ArrayReadableStream",{enumerable:true,get:function(){return r.consumeUint8ArrayReadableStream}});var o=n(510);Object.defineProperty(t,"createHandler",{enumerable:true,get:function(){return o.createHandler}});var s=n(507);Object.defineProperty(t,"runServer",{enumerable:true,get:function(){return s.runServer}})},507:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.runServer=void 0;const o=n(510);const s=r(n(456));const a=r(n(685));async function runServer(e){if(e.port===undefined)e.port=0;const{handler:t,waitUntil:n}=(0,o.createHandler)(e);const r=a.default.createServer(t);const i=await(0,s.default)(r,e);return{url:String(i),close:async()=>{await n();await new Promise(((e,t)=>r.close((n=>{if(n)t(n);e()}))))},waitUntil:n}}t.runServer=runServer},523:e=>{e.exports=e=>{if(typeof e!=="number"){throw new TypeError("Expected a number")}const t=e>0?Math.floor:Math.ceil;return{days:t(e/864e5),hours:t(e/36e5)%24,minutes:t(e/6e4)%60,seconds:t(e/1e3)%60,milliseconds:t(e)%1e3,microseconds:t(e*1e3)%1e3,nanoseconds:t(e*1e6)%1e3}}},606:(e,t,n)=>{const r=n(523);const pluralize=(e,t)=>t===1?e:`${e}s`;const o=1e-7;e.exports=(e,t={})=>{if(!Number.isFinite(e)){throw new TypeError("Expected a finite number")}if(t.colonNotation){t.compact=false;t.formatSubMilliseconds=false;t.separateMilliseconds=false;t.verbose=false}if(t.compact){t.secondsDecimalDigits=0;t.millisecondsDecimalDigits=0}const n=[];const floorDecimals=(e,t)=>{const n=Math.floor(e*10**t+o);const r=Math.round(n)/10**t;return r.toFixed(t)};const add=(e,r,o,s)=>{if((n.length===0||!t.colonNotation)&&e===0&&!(t.colonNotation&&o==="m")){return}s=(s||e||"0").toString();let a;let i;if(t.colonNotation){a=n.length>0?":":"";i="";const e=s.includes(".")?s.split(".")[0].length:s.length;const t=n.length>0?2:1;s="0".repeat(Math.max(0,t-e))+s}else{a="";i=t.verbose?" "+pluralize(r,e):o}n.push(a+s+i)};const s=r(e);add(Math.trunc(s.days/365),"year","y");add(s.days%365,"day","d");add(s.hours,"hour","h");add(s.minutes,"minute","m");if(t.separateMilliseconds||t.formatSubMilliseconds||!t.colonNotation&&e<1e3){add(s.seconds,"second","s");if(t.formatSubMilliseconds){add(s.milliseconds,"millisecond","ms");add(s.microseconds,"microsecond","µs");add(s.nanoseconds,"nanosecond","ns")}else{const e=s.milliseconds+s.microseconds/1e3+s.nanoseconds/1e6;const n=typeof t.millisecondsDecimalDigits==="number"?t.millisecondsDecimalDigits:0;const r=e>=1?Math.round(e):Math.ceil(e);const o=n?e.toFixed(n):r;add(Number.parseFloat(o,10),"millisecond","ms",o)}}else{const n=e/1e3%60;const r=typeof t.secondsDecimalDigits==="number"?t.secondsDecimalDigits:1;const o=floorDecimals(n,r);const s=t.keepDecimalsOnWholeSeconds?o:o.replace(/\.0+$/,"");add(Number.parseFloat(s,10),"second","s",s)}if(n.length===0){return"0"+(t.verbose?" milliseconds":"ms")}if(t.compact){return n[0]}if(typeof t.unitCount==="number"){const e=t.colonNotation?"":" ";return n.slice(0,Math.max(t.unitCount,1)).join(e)}return t.colonNotation?n.join(""):n.join(" ")}},943:(e,t,n)=>{const r=n(162);e.exports=()=>{const e=process.hrtime();const end=t=>r(process.hrtime(e))[t];const returnValue=()=>end("milliseconds");returnValue.rounded=()=>Math.round(end("milliseconds"));returnValue.seconds=()=>end("seconds");returnValue.nanoseconds=()=>end("nanoseconds");return returnValue}},361:e=>{e.exports=require("events")},685:e=>{e.exports=require("http")},687:e=>{e.exports=require("https")},991:e=>{e.exports=require("next/dist/compiled/@edge-runtime/primitives/load")},17:e=>{e.exports=require("path")},781:e=>{e.exports=require("stream")},144:e=>{e.exports=require("vm")}};var __webpack_module_cache__={};function __nccwpck_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var n=__webpack_module_cache__[e]={exports:{}};var r=true;try{__webpack_modules__[e].call(n.exports,n,n.exports,__nccwpck_require__);r=false}finally{if(r)delete __webpack_module_cache__[e]}return n.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__={};(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:true});e.EdgeRuntime=e.runServer=e.createHandler=e.consumeUint8ArrayReadableStream=void 0;var t=__nccwpck_require__(386);Object.defineProperty(e,"consumeUint8ArrayReadableStream",{enumerable:true,get:function(){return t.consumeUint8ArrayReadableStream}});Object.defineProperty(e,"createHandler",{enumerable:true,get:function(){return t.createHandler}});Object.defineProperty(e,"runServer",{enumerable:true,get:function(){return t.runServer}});var n=__nccwpck_require__(293);Object.defineProperty(e,"EdgeRuntime",{enumerable:true,get:function(){return n.EdgeRuntime}})})();module.exports=__webpack_exports__})();